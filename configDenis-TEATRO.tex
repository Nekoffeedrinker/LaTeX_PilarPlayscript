%---------------------------------------------------------------------------
%    Configuración general
%---------------------------------------------------------------------------
\usepackage{calc} % Calcular longitudes

%   Variables

% Interlineado
\newcommand{\PsepLine}{1.15}

% Espacio entre párrafos
\newlength{\PsepPar} \setlength{\PsepPar}{6pt}

% Sangría de primer párrafo
\newlength{\PsepIdent} \setlength{\PsepIdent}{0mm}

% Sangría del texto del parlamento
\newlength{\PsepLhabla} \setlength{\PsepLhabla}{10mm}
\newlength{\PsepRhabla} \setlength{\PsepRhabla}{10mm}

% Sangría del texto de la acotación
\newlength{\PsepLacotar} \setlength{\PsepLacotar}{\PsepLhabla + 7mm}
\newlength{\PsepRacotar} \setlength{\PsepRacotar}{\PsepLhabla + 7mm}

% Sangría del texto del nombre del personaje
\newlength{\PsepLpersonaj} \setlength{\PsepLpersonaj}{\PsepLhabla + 15mm}


% Separación de la secciones
\newlength{\PsepLSection} \setlength{\PsepLSection}{0mm}
\newlength{\PsepTSection} \setlength{\PsepTSection}{8pt}
\newlength{\PSepBSection} \setlength{\PSepBSection}{-4pt}

% Separación de las subsecciones
\newlength{\PsepLSubsec} \setlength{\PsepLSubsec}{0mm}
\newlength{\PsepTSubsec} \setlength{\PsepTSubsec}{6pt}
\newlength{\PSepBSubsec} \setlength{\PSepBSubsec}{-6pt}

% Separación de la sub-subsecciones
\newlength{\PsepLSubsub} \setlength{\PsepLSubsub}{0mm}
\newlength{\PsepTSubsub} \setlength{\PsepTSubsub}{6pt}
\newlength{\PSepBSubsub} \setlength{\PSepBSubsub}{-6pt}

% Nombre de la tabla de contenidos
\newcommand{\ToCName}{Escenas}


\input{LaTeX_PilarPlayscript/configDenis-Texto.tex}


%------------------------------------------------
%   Idioma
\usepackage[utf8]{inputenc} % Escribir caracteres latinos
\usepackage[spanish,mexico,es-nodecimaldot]{babel} % Idioma español mexicano

%------------------------------------------------
%   Tipografía

\usepackage[T1]{fontenc}	% Usar fuentes bonitas
\usepackage{notomath}	% Fuente para Serif
\usepackage{courierten}	% Fuente para Mono
\usepackage{atkinson}	% Fuente Sans Serif (anti dislexia)
\renewcommand*\familydefault{\sfdefault} % Activar Sans Serif

\usepackage{sectsty}			% Paquete para usar el comando allsectionsfont
\allsectionsfont{\rmfamily} 	% Establecer los titulares con la fuente Serif

%------------------------------------------------
%   Párrafos

\usepackage{setspace} % Definir separaciones
% En este caso, se utilizó para modificar el interlineado en una parte específica.

\renewcommand{\baselinestretch}{\PsepLine} 	% Interlineado
\setlength{\parskip}{\PsepPar} 		% Espacio entre párrafos
\setlength{\parindent}{\PsepIdent} 	% Sangria de primer párrafo

%   Líneas Viudas o uerfanas
\usepackage[defaultlines=3,all]{nowidow} % Evita las líneas huérfanas

\usepackage{needspace}


%------------------------------------------------
%   Titulos

\setcounter{secnumdepth}{0} % Hacer que las secciones no se numeren

\usepackage{titlesec} % Para hacer modificaciones en los titulos
% El ajuste se realiza en {izquierda} {anterior} {posterior}
\titlespacing{\section}{\PsepLSection}{\PsepTSection}{\PSepBSection} % Espaciado de la sección
\titlespacing{\subsection}{\PsepLSubsec}{\PsepTSubsec}{\PSepBSubsec} % Espaciado de la subsección


%------------------------------------------------
%   Tabla de contenidos

% Modificar los títulos cambiados por Babel
\addto\captionsspanish{ 
	\renewcommand{\contentsname}{\begin{center}\rmfamily \ToCName\end{center}}
}

\usepackage{tocloft} % Para personalizar la tabla de contenidos

\renewcommand\cftsecfont{\rmfamily \bfseries \small} % Tamaño de las secciones
\renewcommand\cftsecpagefont{\rmfamily \small} % Tamaño del número de las secciones
\renewcommand\cftsecafterpnum{\vspace{-0.5ex}} % Separación de las secciones

\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}} % Añadir puntos

%------------------------------------------------
%   Resaltado y color

\usepackage{xcolor} % Uso de color
\usepackage{soul}	% Hacer resaltados con color

% Comando para resaltar en cualquier color (incluidas combinaciones)
\DeclareRobustCommand{\hlc}[2][yellow]{{%
		\colorlet{foo}{#1}%
		\sethlcolor{foo}\hl{#2}}%
}
% IMPORTANTE, los signos de porcentaje (%) son para evitar espacios indeseados al momento de ejecutar el comando. Por favor, no retirarlos de la definición.

%------------------------------------------------
%   Más utilidades

\usepackage[hidelinks]{hyperref} % Para hacer hipervínculos
\usepackage{ifthen}	% Poder evaluar condicionales

\usepackage{graphicx} 	% Incluir gráficos en el documento
\usepackage{tikz}		% Comandos de dibujo y posicionamiento
\usetikzlibrary{babel,calc} % Librerias para TikZ

%-----------------------------------------------------------
%    Macros para teatro
%-----------------------------------------------------------

% COMANDOS VIEJOS

%\newcommand{\acotar}[1]{
%	\vspace{-\PsepPar / 2}%
%	\hspace{7mm}%
%	\parbox[c]{\linewidth-34mm}{(#1)}%
%	\par \vspace{-\PsepPar / 2}
%}
%
%
%\newenvironment{habla}{
%	\leftskip=10mm 
%	\rightskip=10mm
%}{\par}
%
%\newenvironment{parla}[2][]{
%	\vspace{\PsepPar / 2 + 2pt}
%	\begin{minipage}{1\linewidth}
%		\setlength{\parskip}{\PsepPar} % Espacio entre párrafos
%		
%		\hspace{25mm} \textrm{\textbf{#2}} \par \vspace{-2\PsepPar + \PsepPar / 2 + 1pt}
%		\begin{habla}
%			\ifthenelse{\not\equal{#1}{}}{
%				\vspace{\PsepPar / 2}%
%				\acotar{#1}%
%				\vspace{-\PsepPar / 2}%
%			}{}
%}{
%		\end{habla}
%	\end{minipage}
%	\vspace{-\PsepPar / 2}
%}

%------------------------------------------------
%   Acotaciones

\newenvironment{acotado}{
	\begin{rmfamily}\begin{itshape}
}{
	\end{itshape}\end{rmfamily}
}

\newcommand{\acotar}[1]{
	\begingroup
		\leftskip=\PsepLacotar
		\rightskip=\PsepRacotar
		(\textit{#1})
		\par
	\endgroup
	\vspace{-\PsepPar}
}

\newcommand{\sep}{
	\vspace{\PsepPar}
}

%------------------------------------------------
%	Parlamentos

\newenvironment{habla}{
	\vspace{-\PsepPar}
	\begingroup
		\setlength{\parskip}{\PsepPar}
		\leftskip=\PsepLhabla
		\rightskip=\PsepRhabla
}{
		\par
	\endgroup
}

\newenvironment{parla}[2][]{
	\Needspace{6\baselineskip}
	\vspace{\PsepPar}
	\begingroup
		\setlength{\parskip}{0pt}
		\begingroup
			\leftskip=\PsepLpersonaj
			\textrm{\textsc{#2}} \par
		\endgroup
		\begin{habla}
		\ifthenelse{\not\equal{#1}{}}{
			\acotar{#1} \par
		}{}
}{
		\end{habla}
	\endgroup
	\vspace{\PsepPar}
}


%------------------------------------------------
%	Indicaciones ténicas

%\newenvironment{tecnico}{
%	\vspace{1ex}
%	\hspace{\fill}
%	\begin{minipage}{6.5cm}
%		\setstretch{1.0}
%		\setlength{\parskip}{6pt} % Espacio entre párrafos
%		
%		\begin{flushleft}
%			\ttfamily
%			\small
%}{
%		\end{flushleft}
%	\end{minipage}
%	\hspace{2cm}
%	\vspace{1ex}
%}	


%------------------------------------------------
%	Utilidades

% Continuación
\newcommand{\cont}{\textbf{\hspace{0.5ex} (cont.)}}

% Resaltar personajes
\newcommand{\personaje}[1]{\emph{\textsf{#1}}}

% Final de un texto
\newcommand{\fintexto}[1][FIN]{
	\begin{center}
		\vspace{4em}
		{\large \fontfamily{lmss}\selectfont \bfseries #1}
	\end{center}
}

% Linea de puntos
\newcommand{\Dotfill}{
	\vspace{-8pt}
	\dotfill
}


%-----------------------------------------------------------
%    Verso y dobles columnas
%-----------------------------------------------------------

\usepackage{multicol} % Usar varias columnas
\setlength{\columnsep}{0.6cm} % Separación entre las columnas

%------------------------------------------------
% Versos y canciones

%\newenvironment{versomio}{
%	\begin{flushleft}
%		\small
%		\setstretch{1.0}
%	}{
%	\end{flushleft}
%}
%
%\newenvironment{versomiodo}{
%	\begin{flushleft}
%		\begin{multicols}{2}
%			\small
%			\setstretch{1.0}
%}{
%		\end{multicols}
%	\end{flushleft}
%}
